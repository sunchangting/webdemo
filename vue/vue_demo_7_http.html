<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue第一个demo</title>
    <style>
        .myRed {
            color: red
        }

        .page {
            list-style: none;
        }

        .page > li {
            float: left;
            padding: 5px;
            margin-right: 10px;
            border: 1px solid #ddd;
            background: #eee;
        }

    </style>

</head>
<body>
<div id="app">
    <!--2.显示不同组件信息-->
    <p>{{msg}}</p>
    <button @click="query">查询</button>
    <ul>
        <li v-for="item in list">
            {{item.name}}
        </li>
    </ul>
</div>
<script src="js/vue.min.js"></script>
<!--1.引入http插件-->
<script src="js/vue-resource.js"></script>

<script>

    new Vue({
        el:"#app",
        data:{
            msg:"hello vue",
            list:[],
        },
        methods:{
            query:function () {
                //发送ajax get请求
                var url="http://127.0.0.1/data/1.php";  //todo：不知道为啥请求不到，就是不存在服务器里一样
                this.$http.get(url).then(function (data) {
                    console.log(data.body);
                    this.list=data.body;
                },function (err) {
                    console.log("请求失败："+err)
                })
            }
        },
        mounted:function () {
            //发送ajax get请求
            var url="http://127.0.0.1/1.php";
            this.$http.get(url).then(function (data) {
                console.log(data.body);
                this.list=data.body;
            },function (err) {
                console.log("请求失败："+err)
            })
        }
    });

</script>
</body>
</html>